"use strict";var app,hammer,$this,$body=$("body"),$window=$(window);function Main(){this.init(),this.removeHoverTouch()}Main.prototype.init=function(){this.fixedMenu(),this.ajaxForm(),this.dialog.init(),$window.width()<960&&this.menuMobile(),$(".lazyload").lazyload(),$(".select2").length&&$(".select2").select2({dropdownCssClass:"no-search",language:"pt-BR"})},Main.prototype.menuMobile=function(){$(".open-menu").click(function(){$body.toggleClass("menu-open")}),$("span.nav-a").click(function(e){e.stopImmediatePropagation(),$(".drop").removeClass("active"),$(this).find(".drop").addClass("active")}),$(".common-button.boletos").click(function(e){e.stopImmediatePropagation(),$(this).find(".submenu").toggleClass("active")})},Main.prototype.initBanner=function(){var e=$("#banner-images"),t=e.find(".lazyload");e.slick({autoplay:!0,speed:1200,slidesToShow:1,slidesToScroll:1,infinite:!1,fade:!0,arrows:!0,dots:!0,pauseOnHover:!1,pauseOnFocus:!1,cssEase:"ease",autoplaySpeed:6e3,appendDots:$("#banner-dots"),appendArrows:$("#banner-arrows"),responsive:[{breakpoint:960,settings:{arrows:!1}}]}).on("beforeChange",function(o,i,s,a){t.eq(a).hasClass("loading")&&e.slick("slickPause"),t.eq(a).lazyload("load")}).slick("slickPause"),t.lazyload({autoload:!1,background:!0,onLoad:function(){e.slick("slickPlay")}}).eq(0).lazyload("load"),$("#btn-scroll").click(function(){$("body, html").animate({scrollTop:$("#classes").offset().top-100},1e3)})},Main.prototype.fixedMenu=function(){var e=$("#header");$window.on("scroll",function(t){$window.scrollTop()>=210?e.addClass("fixed"):e.removeClass("fixed")})},Main.prototype.slickNews=function(){var e;$(".news-items").each(function(t,o){$this=$(o),e=$this.data("slides")?$this.data("slides"):2,$this.slick({slidesToShow:e,slidesToScroll:e,infinite:!0,fade:!1,arrows:!1,dots:!0,pauseOnHover:!1,pauseOnFocus:!1,cssEase:"ease",autoplaySpeed:6e3,appendDots:$this.parent().find(".common-dots"),responsive:[{breakpoint:960,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1}}]})})},Main.prototype.masks=function(){if($(".cpf-mask").mask("000.000.000-00"),$(".cnpj-mask").mask("00.000.000/0000-00"),$(".date-mask").mask("99/99/9999"),$(".cep-mask").mask("99999-999"),$(".phone-mask").length){var e=function(e){return 11===e.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"};$(".phone-mask").mask(e,{onKeyPress:function(t,o,i,s){i.mask(e.apply({},arguments),s)}})}},Main.prototype.ajaxForm=function(){$(".ajax-form").each(function(){var e=$(this),t=function(e){return 11===e.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"};e.find('input[type="tel"]').mask(t,{onKeyPress:function(e,o,i,s){i.mask(t.apply({},arguments),s)}}),e.find('input[type="tel"]').mask(t,{onKeyPress:function(e,o,i,s){i.mask(t.apply({},arguments),s)}}),e.validate({errorPlacement:function(e,t){return!1},submitHandler:function(e){if($(e).data("loading"))return!1;$(e).data("loading",!0).addClass("sending"),$.ajax({url:$(e).attr("action"),dataType:"JSON",type:"POST",data:$(e).serialize(),success:function(t){$(e).data("loading",!1).removeClass("sending"),t.status?(t.keep?$(e).find('input[type="password"]').val(""):($(e).find('input[type="text"], input[type="email"], input[type="tel"], input[type="number"], input[type="password"], select, textarea').val(""),$(e).find('input[type="checkbox"]').prop("checked",!1),$(e).find("select").length&&$(e).find("select").select2("val"," ")),t.redirect?t.message?swal({title:t.title,text:t.message,type:t.class},function(){window.location=t.redirect}):window.location=t.redirect:t.message&&swal(t.title,t.message,t.class)):t.message&&swal(t.title,t.message,t.class)},error:function(t){$(e).data("loading",!1).removeClass("sending"),swal(i18n.ajax_error_title,i18n.ajax_error_message,"warning")}})}})}),$(".select2").on("change",function(){$(this).removeClass("error")})},Main.prototype.dialog={initialized:!1,init:function(){this.initialized||(this.initialized=!0,$("body").append('            <div id="dialog-overflow"></div>            <div id="dialog-window">                <div class="dialog-message">                    <button type="button" id="close-dialog"></button>                    <div class="icon-message">                        <div class="alert">                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 1l-12 22h24l-12-22zm-1 8h2v7h-2v-7zm1 11.25c-.69 0-1.25-.56-1.25-1.25s.56-1.25 1.25-1.25 1.25.56 1.25 1.25-.56 1.25-1.25 1.25z"/></svg>                        </div>                        <div class="success">                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 11.522l1.578-1.626 7.734 4.619 13.335-12.526 1.353 1.354-14 18.646z"/></svg>                        </div>                        <div class="error">                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M24 3.752l-4.423-3.752-7.771 9.039-7.647-9.008-4.159 4.278c2.285 2.885 5.284 5.903 8.362 8.708l-8.165 9.447 1.343 1.487c1.978-1.335 5.981-4.373 10.205-7.958 4.304 3.67 8.306 6.663 10.229 8.006l1.449-1.278-8.254-9.724c3.287-2.973 6.584-6.354 8.831-9.245z"/></svg>                        </div>                    </div>                    <p class="title"></p>                    <div class="message"></div>                </div>                <div class="dialog-buttons">                    <button type="button" id="cancel-dialog"><span>Cancelar</span></button>                    <button type="button" id="confirm-dialog"><span></span></button>                </div>            </div>        '))},open:function(e){var t=$.extend({},{class:"success",button:"Fechar",buttonCancel:"Cancelar",title:"",message:"",redirect:!1,cancel:!1,callback:function(){},closeOnClick:!0,autoClose:0},e),o=$("#dialog-window");o.removeClass("error success alert").addClass(t.class).find(".message").html(t.message),o.find(".title").html(t.title),o.find("#confirm-dialog").on("click",$.proxy(function(){"function"==typeof t.callback&&t.callback.apply(),t.closeOnClick&&this.close(t.redirect)},this)).find("span").html(t.button),t.autoClose>0&&(this.timer=setTimeout($.proxy(function(){this.close(t.redirect)},this),t.autoClose)),$("body").addClass("dialog-open"),$("#close-dialog, #cancel-dialog").on("click",$.proxy(function(){this.close(t.redirect)},this)),$("#dialog-overflow").on("click",$.proxy(function(){$("body").hasClass("dialog-open")&&this.close(t.redirect)},this)),setTimeout(function(){o.find("#confirm-dialog").focus()},50),t.cancel?o.addClass("with-cancel").find("#cancel-dialog").show().find("span").html(t.buttonCancel):o.removeClass("with-cancel").find("#cancel-dialog").hide()},close:function(e){clearTimeout(this.timer),$("#dialog-window").find("#confirm-dialog").off("click"),$("body").removeClass("dialog-open"),e&&(window.location=e),$("#close-dialog, #cancel-dialog").off("click"),$("#dialog-overflow").off("click")}},Main.prototype.removeHoverTouch=function(){if("ontouchstart"in document.documentElement||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)try{for(var e in document.styleSheets){var t=document.styleSheets[e];if(t.rules)for(var o=t.rules.length-1;o>=0;o--)t.rules[o].selectorText&&t.rules[o].selectorText.match(":hover")&&(t.rules[o].selectorText=t.rules[o].selectorText.replace(/\:hover/g,":active"))}}catch(e){}},$(document).ready(function(){app=new Main});